# Palmer Penguins Species Analysis - DashboardDataLite format
version: 1

title: Penguins Species Analysis
project_tag: Palmer Penguins Species Comparison

components:
  # Scatter: Body Mass vs Flipper Length
  - tag: scatter-mass-flipper
    component_type: figure
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    visu_type: scatter
    dict_kwargs:
      x: flipper_length_mm
      y: body_mass_g
      color: species
      symbol: island
      size: bill_length_mm
      color_discrete_map: '{"Adelie": "#6366f1", "Chinstrap": "#f59e0b", "Gentoo": "#10b981"}'
      title: Body Mass vs Flipper Length by Species and Island
      size_max: 15
      marginal_x: box
      marginal_y: violin
      trendline: lowess
      labels: '{"flipper_length_mm": "Flipper Length (mm)", "body_mass_g": "Body Mass (g)", "bill_length_mm": "Bill Length (mm)", "island": "Island", "species": "Species"}'

  # Box: Bill Length by Species and Sex
  - tag: box-bill-length
    component_type: figure
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    visu_type: box
    dict_kwargs:
      x: species
      y: bill_length_mm
      color: sex
      color_discrete_map: '{"male": "#1976D2", "female": "#E91E63"}'
      title: Bill Length Distribution by Species and Sex
      boxmode: group
      points: all
      notched: true
      labels: '{"bill_length_mm": "Bill Length (mm)", "species": "Species", "sex": "Sex"}'

  # Histogram: Bill Depth by Species
  - tag: hist-bill-depth
    component_type: figure
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    visu_type: histogram
    dict_kwargs:
      x: bill_depth_mm
      color: species
      color_discrete_map: '{"Adelie": "#6366f1", "Chinstrap": "#f59e0b", "Gentoo": "#10b981"}'
      title: Bill Depth Distribution by Species
      barmode: overlay
      opacity: 0.7
      nbins: 30
      marginal: rug
      labels: '{"bill_depth_mm": "Bill Depth (mm)", "species": "Species"}'

  # Sunburst: Island & Species Distribution (code mode)
  - tag: sunburst-distribution
    component_type: figure
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    visu_type: scatter
    mode: code
    code_content: >
      df_modified = df.to_pandas().groupby(['island','species']).agg({'body_mass_g':'mean','bill_length_mm':'count'}).reset_index().rename(columns={'bill_length_mm':'count'})

      fig = px.sunburst(df_modified,path=['island','species'],values='count',color='island',color_discrete_map={"Biscoe":"#6366f1","Dream":"#f59e0b","Torgersen":"#10b981"},title='Palmer Penguins: Island & Species Distribution',hover_data={'body_mass_g':':.0f'})

  # Card: Species Diversity
  - tag: card-species
    component_type: card
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    aggregation: nunique
    column_name: species
    column_type: object
    icon_name: mdi:penguin
    icon_color: "#8BC34A"

  # Card: Average Body Mass
  - tag: card-body-mass
    component_type: card
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    aggregation: average
    column_name: body_mass_g
    column_type: float64
    icon_name: mdi:weight
    icon_color: "#F68B33"

  # Card: Total Individuals
  - tag: card-count
    component_type: card
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    aggregation: count
    column_name: individual_id
    column_type: object
    icon_name: mdi:counter
    icon_color: "#5C6BC0"

  # Card: Average Flipper Length
  - tag: card-flipper
    component_type: card
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    aggregation: average
    column_name: flipper_length_mm
    column_type: float64
    icon_name: mdi:ruler
    icon_color: "#26A69A"

  # Interactive: Species filter
  - tag: filter-species
    component_type: interactive
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    interactive_component_type: MultiSelect
    column_name: species
    column_type: object
    custom_color: "#858585"
    icon_name: mdi:filter

  # Interactive: Body mass range
  - tag: filter-body-mass
    component_type: interactive
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    interactive_component_type: RangeSlider
    column_name: body_mass_g
    column_type: float64
    custom_color: "#45B8AC"
    icon_name: bx:slider-alt

  # Interactive: Island filter
  - tag: filter-island
    component_type: interactive
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    interactive_component_type: MultiSelect
    column_name: island
    column_type: object
    custom_color: "#7E57C2"
    icon_name: mdi:island

  # Interactive: Sex filter
  - tag: filter-sex
    component_type: interactive
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    interactive_component_type: MultiSelect
    column_name: sex
    column_type: object
    custom_color: "#EC407A"
    icon_name: mdi:gender-male-female

  # Interactive: Bill length range
  - tag: filter-bill-length
    component_type: interactive
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    interactive_component_type: RangeSlider
    column_name: bill_length_mm
    column_type: float64
    custom_color: "#FF7043"
    icon_name: bx:slider

  # Data table
  - tag: data-table
    component_type: table
    workflow_tag: penguin_species_analysis
    data_collection_tag: joined_penguins_complete
    title: Palmer Penguins Data
    description: Physical measurements and demographics of penguin populations
    title_size: h3
    title_align: left
    page_size: 15
