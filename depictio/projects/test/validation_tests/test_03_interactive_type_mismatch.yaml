# TEST 03 — Interactive component type × column_type cross-field validation
#
# Expected result: FAIL at validate
#   depictio-cli dashboard validate test_03_interactive_type_mismatch.yaml
#
# Errors expected:
#   [slider-category]      Slider not valid for column_type='category'
#                          (category supports: Select, MultiSelect, SegmentedControl)
#   [checkbox-float]       Checkbox not valid for column_type='float64'
#                          (float64 supports: Slider, RangeSlider)
#   [multiselect-datetime] MultiSelect not valid for column_type='datetime'
#                          (datetime supports: DateRangePicker only)
#   [rangeslider-bool]     RangeSlider not valid for column_type='bool'
#                          (bool supports: Checkbox, Switch)
#
# Compatibility matrix:
#   int64/float64 → Slider, RangeSlider
#   bool          → Checkbox, Switch
#   datetime      → DateRangePicker
#   timedelta     → (none — no interactive component supported)
#   category      → Select, MultiSelect, SegmentedControl
#   object        → Select, MultiSelect, SegmentedControl

title: "Test 03 — Interactive component type × column_type mismatch"
project_tag: "Iris Dataset Project Data Analysis"

components:
  # VALID baseline — RangeSlider for float64
  - tag: valid-rangeslider
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: RangeSlider
    column_name: sepal.length
    column_type: float64

  # VALID baseline — MultiSelect for object
  - tag: valid-multiselect
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: MultiSelect
    column_name: variety
    column_type: object

  # INVALID: Slider only works with int64/float64, not category
  - tag: slider-category
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: Slider
    column_name: variety
    column_type: category

  # INVALID: Checkbox only works with bool, not float64
  - tag: checkbox-float
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: Checkbox
    column_name: sepal.length
    column_type: float64

  # INVALID: MultiSelect only works with category/object, not datetime
  - tag: multiselect-datetime
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: MultiSelect
    column_name: measurement_date
    column_type: datetime

  # INVALID: RangeSlider only works with int64/float64, not bool
  - tag: rangeslider-bool
    component_type: interactive
    workflow_tag: python/iris_workflow
    data_collection_tag: iris_table
    interactive_component_type: RangeSlider
    column_name: is_setosa
    column_type: bool
