{
  "_id": {
    "$oid": "6824cb3b89d2b72169309738"
  },
  "dashboard_id": {
    "$oid": "6824cb3b89d2b72169309738"
  },
  "title": "Penguins Species Analysis",
  "project_id": {
    "$oid": "646b0f3c1e4a2d7f8e5b8c9d"
  },
  "permissions": {
    "owners": [
      {
        "_id": {
          "$oid": "67658ba033c8b59ad489d7c7"
        },
        "email": "admin@example.com",
        "is_admin": true
      }
    ],
    "editors": [],
    "viewers": []
  },
  "stored_metadata": [
    {
      "index": "scatter-flipper-body",
      "component_type": "figure",
      "visu_type": "scatter",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "dict_kwargs": {
        "x": "flipper_length_mm",
        "y": "body_mass_g",
        "color": "species",
        "symbol": "island",
        "size": "bill_length_mm",
        "color_discrete_map": "{\"Adelie\": \"#1f77b4\", \"Chinstrap\": \"#ff7f0e\", \"Gentoo\": \"#2ca02c\"}",
        "title": "Body Mass vs Flipper Length by Species and Island",
        "template": "mantine_light",
        "size_max": 15,
        "marginal_x": "box",
        "marginal_y": "violin",
        "trendline": "lowess",
        "labels": "{\"flipper_length_mm\": \"Flipper Length (mm)\", \"body_mass_g\": \"Body Mass (g)\", \"bill_length_mm\": \"Bill Length (mm)\", \"island\": \"Island\", \"species\": \"Species\"}"
      }
    },
    {
      "index": "box-bill-length-species",
      "component_type": "figure",
      "visu_type": "box",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "dict_kwargs": {
        "x": "species",
        "y": "bill_length_mm",
        "color": "sex",
        "color_discrete_map": "{\"male\": \"#1976D2\", \"female\": \"#E91E63\"}",
        "title": "Bill Length Distribution by Species and Sex",
        "template": "mantine_light",
        "boxmode": "group",
        "points": "all",
        "notched": true,
        "labels": "{\"bill_length_mm\": \"Bill Length (mm)\", \"species\": \"Species\", \"sex\": \"Sex\"}"
      }
    },
    {
      "index": "histogram-bill-depth",
      "component_type": "figure",
      "visu_type": "histogram",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "dict_kwargs": {
        "x": "bill_depth_mm",
        "color": "species",
        "color_discrete_map": "{\"Adelie\": \"#1f77b4\", \"Chinstrap\": \"#ff7f0e\", \"Gentoo\": \"#2ca02c\"}",
        "title": "Bill Depth Distribution by Species",
        "template": "mantine_light",
        "barmode": "overlay",
        "opacity": 0.7,
        "nbins": 30,
        "marginal": "rug",
        "labels": "{\"bill_depth_mm\": \"Bill Depth (mm)\", \"species\": \"Species\"}"
      }
    },
    {
      "index": "custom-island-morphology",
      "component_type": "figure",
      "mode": "code",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "code_content": "# Custom color palette for islands (non-default Plotly colors)\nisland_colors = {\n    'Biscoe': '#6366f1',      # Indigo\n    'Dream': '#f59e0b',       # Amber\n    'Torgersen': '#10b981'    # Emerald\n}\n\n# Convert to pandas for easier manipulation\ndf_pd = df.to_pandas()\ndf_islands = df_pd['island'].unique()\n\n# Create figure with first trace (satisfies validator requirement)\ndf_first_island = df_islands[0]\ndf_island_data = df_pd[df_pd['island'] == df_first_island]\nfig = go.Figure(data=[\n    go.Box(\n        y=df_island_data['body_mass_g'],\n        name=df_first_island,\n        marker_color=island_colors[df_first_island],\n        boxmean='sd',\n        legendgroup=df_first_island,\n        showlegend=True,\n        xaxis='x1',\n        yaxis='y1'\n    )\n])\n\n# Subplot 1 (top-left): Box plot of body mass by island - remaining islands\nfor df_island in df_islands[1:]:\n    df_island_data = df_pd[df_pd['island'] == df_island]\n    fig.add_trace(\n        go.Box(\n            y=df_island_data['body_mass_g'],\n            name=df_island,\n            marker_color=island_colors[df_island],\n            boxmean='sd',\n            legendgroup=df_island,\n            showlegend=True,\n            xaxis='x1',\n            yaxis='y1'\n        )\n    )\n\n# Subplot 2 (top-right): Scatter of flipper vs bill length by island\nfor df_island in df_islands:\n    df_island_data = df_pd[df_pd['island'] == df_island]\n    fig.add_trace(\n        go.Scatter(\n            x=df_island_data['bill_length_mm'],\n            y=df_island_data['flipper_length_mm'],\n            mode='markers',\n            name=df_island,\n            marker=dict(\n                color=island_colors[df_island],\n                size=8,\n                opacity=0.7,\n                line=dict(width=1, color='white')\n            ),\n            legendgroup=df_island,\n            showlegend=False,\n            xaxis='x2',\n            yaxis='y2'\n        )\n    )\n\n# Subplot 3 (bottom-left): Bill dimensions with body-mass-sized markers\nfor df_island in df_islands:\n    df_island_data = df_pd[df_pd['island'] == df_island]\n    fig.add_trace(\n        go.Scatter(\n            x=df_island_data['bill_length_mm'],\n            y=df_island_data['bill_depth_mm'],\n            mode='markers',\n            name=df_island,\n            marker=dict(\n                color=island_colors[df_island],\n                size=df_island_data['body_mass_g'] / 400,\n                opacity=0.6,\n                line=dict(width=1.5, color='white'),\n                symbol='diamond'\n            ),\n            legendgroup=df_island,\n            showlegend=False,\n            xaxis='x3',\n            yaxis='y3'\n        )\n    )\n\n# Subplot 4 (bottom-right): Normalized measurements by island\ndf_summary = df_pd.groupby('island').agg({\n    'body_mass_g': 'mean',\n    'flipper_length_mm': 'mean',\n    'bill_length_mm': 'mean',\n    'bill_depth_mm': 'mean'\n}).reset_index()\n\ndf_measurements = ['body_mass_g', 'flipper_length_mm', 'bill_length_mm', 'bill_depth_mm']\ndf_labels = ['Body Mass', 'Flipper', 'Bill Length', 'Bill Depth']\ndf_colors = ['#ef4444', '#3b82f6', '#22c55e', '#f59e0b']\n\nfor df_i, (df_measurement, df_label, df_color) in enumerate(zip(df_measurements, df_labels, df_colors)):\n    df_values = df_summary[df_measurement]\n    df_normalized = (df_values - df_values.min()) / (df_values.max() - df_values.min()) * 100\n\n    fig.add_trace(\n        go.Bar(\n            x=df_summary['island'],\n            y=df_normalized,\n            name=df_label,\n            marker_color=df_color,\n            opacity=0.8,\n            legendgroup=f'metric_{df_i}',\n            xaxis='x4',\n            yaxis='y4'\n        )\n    )\n\n# Configure subplot layout with domains\nfig.update_layout(\n    # Top-left: Box plot (0-0.48, 0.55-1.0)\n    xaxis1=dict(domain=[0.0, 0.48], anchor='y1', title='Island'),\n    yaxis1=dict(domain=[0.55, 1.0], anchor='x1', title='Body Mass (g)'),\n\n    # Top-right: Scatter (0.52-1.0, 0.55-1.0)\n    xaxis2=dict(domain=[0.52, 1.0], anchor='y2', title='Bill Length (mm)'),\n    yaxis2=dict(domain=[0.55, 1.0], anchor='x2', title='Flipper Length (mm)'),\n\n    # Bottom-left: Bill dimensions (0-0.48, 0-0.45)\n    xaxis3=dict(domain=[0.0, 0.48], anchor='y3', title='Bill Length (mm)'),\n    yaxis3=dict(domain=[0.0, 0.45], anchor='x3', title='Bill Depth (mm)'),\n\n    # Bottom-right: Bar chart (0.52-1.0, 0-0.45)\n    xaxis4=dict(domain=[0.52, 1.0], anchor='y4', title='Island'),\n    yaxis4=dict(domain=[0.0, 0.45], anchor='x4', title='Normalized (%)'),\n\n    title=dict(\n        text='Palmer Penguins: Island-Based Morphological Analysis',\n        font=dict(size=18),\n        x=0.5,\n        xanchor='center'\n    ),\n    height=650,\n    showlegend=True,\n    legend=dict(\n        orientation='h',\n        yanchor='top',\n        y=-0.08,\n        xanchor='center',\n        x=0.5,\n        bgcolor='rgba(255,255,255,0.8)',\n        bordercolor='rgba(0,0,0,0.2)',\n        borderwidth=1\n    ),\n    barmode='group',\n    plot_bgcolor='rgba(0,0,0,0)',\n    paper_bgcolor='rgba(0,0,0,0)',\n    font=dict(size=11)\n)\n\n# Add subplot titles as annotations\nfig.add_annotation(text='Body Mass Distribution', x=0.24, y=1.05, xref='paper', yref='paper', showarrow=False, font=dict(size=13, color='#666'))\nfig.add_annotation(text='Flipper vs Bill Length', x=0.76, y=1.05, xref='paper', yref='paper', showarrow=False, font=dict(size=13, color='#666'))\nfig.add_annotation(text='Bill Dimensions', x=0.24, y=0.50, xref='paper', yref='paper', showarrow=False, font=dict(size=13, color='#666'))\nfig.add_annotation(text='Morphological Summary', x=0.76, y=0.50, xref='paper', yref='paper', showarrow=False, font=dict(size=13, color='#666'))\n\nfig\n"
    },
    {
      "index": "species-count",
      "component_type": "card",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "aggregation": "nunique",
      "column_type": "object",
      "column_name": "species",
      "title": "Species Diversity",
      "title_color": "#8BC34A",
      "icon_name": "mdi:penguin",
      "icon_color": "#8BC34A",
      "title_font_size": "xl",
      "value_font_size": "xl"
    },
    {
      "index": "body-mass-average",
      "component_type": "card",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "aggregation": "average",
      "column_type": "float64",
      "column_name": "body_mass_g",
      "title": "Avg Body Mass (g)",
      "title_color": "#F68B33",
      "icon_name": "mdi:weight",
      "icon_color": "#F68B33",
      "title_font_size": "xl",
      "value_font_size": "xl"
    },
    {
      "index": "total-count",
      "component_type": "card",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "aggregation": "count",
      "column_type": "object",
      "column_name": "individual_id",
      "title": "Total Individuals",
      "title_color": "#5C6BC0",
      "icon_name": "mdi:counter",
      "icon_color": "#5C6BC0",
      "title_font_size": "xl",
      "value_font_size": "xl"
    },
    {
      "index": "avg-flipper",
      "component_type": "card",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "aggregation": "average",
      "column_type": "float64",
      "column_name": "flipper_length_mm",
      "title": "`avg_flipper_length_mm`",
      "title_color": "#26A69A",
      "icon_name": "mdi:ruler",
      "icon_color": "#26A69A",
      "title_font_size": "md",
      "value_font_size": "xl"
    },
    {
      "component_type": "interactive",
      "interactive_component_type": "MultiSelect",
      "index": "species-filter",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "column_name": "species",
      "column_type": "object",
      "value": [
        "Adelie",
        "Chinstrap",
        "Gentoo"
      ],
      "scale": "linear",
      "marks_number": 2,
      "title_size": "md",
      "custom_color": "#858585",
      "icon_name": "mdi:filter",
      "default_state": {
        "type": "select",
        "options": [
          "Adelie",
          "Chinstrap",
          "Gentoo"
        ],
        "default_value": null
      }
    },
    {
      "component_type": "interactive",
      "interactive_component_type": "RangeSlider",
      "index": "body-mass-slider",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "column_name": "body_mass_g",
      "column_type": "float64",
      "value": [
        2700,
        6300
      ],
      "scale": "linear",
      "marks_number": 2,
      "title_size": "md",
      "custom_color": "#45B8AC",
      "icon_name": "bx:slider-alt",
      "default_state": {
        "type": "range",
        "min_value": 2700,
        "max_value": 6300,
        "default_range": [
          2700,
          6300
        ]
      }
    },
    {
      "component_type": "interactive",
      "interactive_component_type": "MultiSelect",
      "index": "island-filter",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "column_name": "island",
      "column_type": "object",
      "value": [
        "Biscoe",
        "Dream",
        "Torgersen"
      ],
      "scale": "linear",
      "marks_number": 2,
      "title_size": "md",
      "custom_color": "#7E57C2",
      "icon_name": "mdi:island",
      "default_state": {
        "type": "select",
        "options": [
          "Biscoe",
          "Dream",
          "Torgersen"
        ],
        "default_value": null
      }
    },
    {
      "component_type": "interactive",
      "interactive_component_type": "MultiSelect",
      "index": "sex-filter",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "column_name": "sex",
      "column_type": "object",
      "value": [
        "male",
        "female"
      ],
      "scale": "linear",
      "marks_number": 2,
      "title_size": "md",
      "custom_color": "#EC407A",
      "icon_name": "mdi:gender-male-female",
      "default_state": {
        "type": "select",
        "options": [
          "male",
          "female"
        ],
        "default_value": null
      }
    },
    {
      "component_type": "interactive",
      "interactive_component_type": "RangeSlider",
      "index": "bill-length-slider",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      },
      "column_name": "bill_length_mm",
      "column_type": "float64",
      "value": [
        32.1,
        59.6
      ],
      "scale": "linear",
      "marks_number": 2,
      "title_size": "md",
      "custom_color": "#FF7043",
      "icon_name": "bx:slider",
      "default_state": {
        "type": "range",
        "min_value": 32.1,
        "max_value": 59.6,
        "default_range": [
          32.1,
          59.6
        ]
      }
    },
    {
      "index": "data-table",
      "component_type": "table",
      "wf_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8c9e"
      },
      "dc_id": {
        "$oid": "646b0f3c1e4a2d7f8e5b8ca1"
      }
    }
  ],
  "stored_layout_data": [
    {
      "i": "box-scatter-flipper-body",
      "x": 0,
      "y": 0,
      "w": 48,
      "h": 18
    },
    {
      "i": "box-box-bill-length-species",
      "x": 0,
      "y": 18,
      "w": 24,
      "h": 14
    },
    {
      "i": "box-histogram-bill-depth",
      "x": 24,
      "y": 18,
      "w": 24,
      "h": 14
    },
    {
      "i": "box-custom-island-morphology",
      "x": 0,
      "y": 32,
      "w": 48,
      "h": 20
    },
    {
      "i": "box-species-count",
      "x": 0,
      "y": 52,
      "w": 8,
      "h": 6
    },
    {
      "i": "box-body-mass-average",
      "x": 8,
      "y": 52,
      "w": 8,
      "h": 6
    },
    {
      "i": "box-total-count",
      "x": 16,
      "y": 52,
      "w": 8,
      "h": 6
    },
    {
      "i": "box-avg-flipper",
      "x": 24,
      "y": 52,
      "w": 8,
      "h": 6
    },
    {
      "i": "box-species-filter",
      "x": 32,
      "y": 52,
      "w": 16,
      "h": 6
    },
    {
      "i": "box-body-mass-slider",
      "x": 0,
      "y": 58,
      "w": 16,
      "h": 6
    },
    {
      "i": "box-island-filter",
      "x": 16,
      "y": 58,
      "w": 16,
      "h": 6
    },
    {
      "i": "box-sex-filter",
      "x": 32,
      "y": 58,
      "w": 16,
      "h": 6
    },
    {
      "i": "box-bill-length-slider",
      "x": 0,
      "y": 64,
      "w": 16,
      "h": 6
    },
    {
      "i": "box-data-table",
      "x": 0,
      "y": 70,
      "w": 48,
      "h": 16
    }
  ],
  "is_public": true,
  "icon": "/assets/images/icons/favicon.png",
  "version": 1
}
