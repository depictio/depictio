/* =============================================================================
   FIGURE COMPONENT FULLSCREEN MODE
   ============================================================================= */

/* Chart fullscreen button - no special styling needed, uses DMC ActionIcon styles */
/* Button is now part of the ActionIconGroup in edit.py and inherits group styling */

/* Style the active fullscreen figure component - applied to grid item */
.react-grid-item.chart-fullscreen,
.chart-fullscreen {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;
    background: var(--app-bg-color, #ffffff) !important;
    transform: none !important;
    width: 100vw !important;
    height: 100vh !important;
    max-width: none !important;
    max-height: none !important;
    padding: 20px !important;
    margin: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
}

/* Style the graph inside fullscreen */
.chart-fullscreen .js-plotly-plot {
    width: 100% !important;
    height: calc(100vh - 100px) !important; /* Account for padding and button space */
    flex: 1 !important;
}

/* Fullscreen button maintains its DMC ActionIcon appearance - no special styling needed */
/* The button inherits ActionIconGroup styles consistently in both normal and fullscreen modes */

/* Hide all grid items when in fullscreen mode except the active one */
body.fullscreen-mode .react-grid-item:not(.fullscreen-active) {
    display: none !important;
}

/* Style the active fullscreen item in grid layout */
.react-grid-item.fullscreen-active {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;
    background: var(--app-bg-color, #ffffff) !important;
    transform: none !important;
    width: 100vw !important;
    height: 100vh !important;
    max-width: none !important;
    max-height: none !important;
    padding: 20px !important;
}

/* Hide dashboard elements when in fullscreen */
body.fullscreen-mode #page-content {
    overflow: hidden !important;
}

/* Ensure fullscreen figure takes precedence over grid positioning */
.react-grid-layout .fullscreen-active {
    position: fixed !important;
    transform: none !important;
    transition: none !important;
}

/* Dark mode support for fullscreen */
[data-mantine-color-scheme="dark"] .chart-fullscreen,
[data-mantine-color-scheme="dark"] .fullscreen-active {
    background: var(--mantine-color-dark-7, #1a1b1e) !important;
}

/* Animation for entering/exiting fullscreen */
.fullscreen-entering {
    animation: fullscreen-enter 0.3s ease-out forwards;
}

.fullscreen-exiting {
    animation: fullscreen-exit 0.3s ease-in forwards;
}

@keyframes fullscreen-enter {
    from {
        transform: scale(0.95);
        opacity: 0.8;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes fullscreen-exit {
    from {
        transform: scale(1);
        opacity: 1;
    }
    to {
        transform: scale(0.95);
        opacity: 0.8;
    }
}
