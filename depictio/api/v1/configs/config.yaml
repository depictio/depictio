workflows:
  - workflow_engine: "snakemake"
    workflow_name: "mosaicatcher-pipeline"
    workflow_description: "Strand-Seq SV calling framework"
    workflow_config:
      parent_runs_location: 
        - "/Users/tweber/Data/mosaicatcher-pipeline"
      # parent_runs_location: "/Users/tweber/Gits/depictio/wf_data/snakemake--mosaicatcher-pipeline"
      runs_regex: ".*"
    data_collections:
      - data_collection_tag: "mosaicatcher_stats"
        description: "Statistics file generated by MosaiCatcher"
        config:
          # type: "Table"
          regex: ".*.info_raw"
          format: "TSV"
          polars_kwargs:
            skip_rows: 13
            separator: "\t"
          keep_columns:
            - "sample"
            - "cell"
            - "mapped"
            - "dupl"
            - "pass1"
            - "good"

          # FIX BUG ABOUT OBJECTID
          join:
            on:
              - "sample"
              - "cell"
            how: "inner"
            with_dc:
              - "ashleys_labels"
            
      - data_collection_tag: "ashleys_labels"
        description: "Probabilities generated by ashleys-qc model"
        config:
          # type: "Table"
          regex: "labels.tsv"
          format: "TSV"
          polars_kwargs:
            separator: "\t"

      # TODO: interface with S3 bucket to list, access, check if still accessible genome browser files, start without modifications for Jbrowse (BAM, VCF)
      # - data_collection_tag: "wc_counts"
      #   description: "BigWig files generated by MosaiCatcher"
      #   config:
      #     type: "Genome Browser"
      #     regex: ".*.bigWig"
      #     format: "BigWig"
      #     jbrowse_params:
      #       category: "mosaicatcher"
      #       assemblyNames: "mosaicatcher"
      #       name_regex: ".*.bam"
      #       trackId: "mosaicatcher"

  # pivot/melt system for ASV table for instance
  
  - workflow_engine: nextflow
    workflow_name: ampliseq
    workflow_description: "nf-core/ampliseq workflow for ASV count table generation & taxonomy assignment"
    workflow_config:
      parent_runs_location: 
        - "/Users/tweber/Gits/sc-interactome/Network_analysis/Sequencing"
      runs_regex: ".*"

    data_collections:
    - data_collection_tag: "ASV_with_taxonomy"
      description: "DADA2 ASV table with PR2 taxonomy"
      config:
        # type: "Table"
        regex: ".*.ASV.reformated.tsv"
        format: "TSV"
        polars_kwargs:
          separator: "\t"