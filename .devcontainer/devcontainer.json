{
    "name": "depictio devcontainer",
    // "dockerComposeFile": [
    //     "../docker-compose.yml"
    // ],
    "service": "depictio_frontend",
    "workspaceFolder": "/workspaces/depictio",
    "extensions": [
        "ms-python.python",
        "ms-azuretools.vscode-docker",
        "ms-python.anaconda-extension-pack",
        "GitHub.copilot",
        "charliermarsh.ruff"
    ],
    "settings": {
        "terminal.integrated.shell.linux": "/bin/bash"
    },
    "postCreateCommand": "./setup_codespaces.sh",
    "forwardPorts": [
        27018,
        5080,
        8058,
        9000,
        9001
    ],
    "portsAttributes": {
        "27018": {
            "label": "mongo"
        },
        "5080": {
            "label": "depictio_frontend"
        },
        "8058": {
            "label": "depictio_backend"
        },
        "9000-9001": {
            "label": "minio"
        }
    },
    "remoteEnv": {
        "MINIO_ROOT_USER": "${localEnv:MINIO_ROOT_USER}",
        "MINIO_ROOT_PASSWORD": "${localEnv:MINIO_ROOT_PASSWORD}",
        "MINIO_ACCESS_KEY": "${localEnv:MINIO_ACCESS_KEY}",
        "MINIO_SECRET_KEY": "${localEnv:MINIO_SECRET_KEY}",
        "DEPICTIO_BACKEND_DATA_VOLUME_HOST": "/workspace/depictio-data",
        "AUTH_TMP_TOKEN": "${localEnv:AUTH_TMP_TOKEN}",
        "PRIVATE_KEY": "${localEnv.PRIVATE_KEY}",
        "PUBLIC_KEY": "${localEnv.PUBLIC_KEY}"
    },
    "features": {
        "ghcr.io/devcontainers/features/common-utils:2": {
            "installZsh": "true",
            "installGit": "true",
            "installDocker": "true"
        },
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest"
        }
    }
}