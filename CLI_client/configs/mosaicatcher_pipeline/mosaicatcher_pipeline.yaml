workflows:
  - workflow_engine: "snakemake"
    workflow_name: "mosaicatcher-pipeline"
    workflow_description: "Strand-Seq SV calling framework"
    workflow_config:
      parent_runs_location: 
        - "/Users/tweber/Data/mosaicatcher-pipeline"
      # parent_runs_location: "/Users/tweber/Gits/depictio/wf_data/snakemake--mosaicatcher-pipeline"
      runs_regex: ".*"
    data_collections:
      - data_collection_tag: "mosaicatcher_stats"
        description: "Statistics file generated by MosaiCatcher"
        config:
          type: "Table"
          files_regex: ".*.info_raw"
          format: "TSV"
          polars_kwargs:
            skip_rows: 13
            separator: "\t"
          keep_columns:
            - "sample"
            - "cell"
            - "mapped"
            - "dupl"
            - "pass1"
            - "good"

          # TODO: FIX BUG ABOUT OBJECTID
          table_join:
            on_columns:
              - "sample"
              - "cell"
            how: "inner"
            with_dc:
              - "ashleys_labels"
            
      - data_collection_tag: "ashleys_labels"
        description: "Probabilities generated by ashleys-qc model"
        config:
          type: "Table"
          files_regex: "labels.tsv"
          format: "TSV"
          polars_kwargs:
            separator: "\t"

      - data_collection_tag: "SV_calls"
        description: "BED files containing SV calls generated by MosaiCatcher"
        config:
          type: "Genome Browser"
          
          files_regex: "{cell}-SV.bed.gz"
          regex_wildcards:
            - name: "cell"
              regex: ".*"
              join_data_collection: "mosaicatcher_stats" 

          format: "BED"
          index_extension: "tbi" 
          jbrowse_template_location: "/Users/tweber/Gits/depictio/jbrowse2/templates/mosaicatcher_pipeline/SV_calls"

          
          # jbrowse_params:
          #   category: "SV calls"
          #   assemblyName: "hg38"
          #   display:
          #     type: "LinearBasicDisplay"
          #     renderer: 
          #       type: "SVGFeatureRenderer"


  
  # - workflow_engine: nextflow
  #   workflow_name: ampliseq
  #   workflow_description: "nf-core/ampliseq workflow for ASV count table generation & taxonomy assignment"
  #   workflow_config:
  #     parent_runs_location: 
  #       - "/Users/tweber/Gits/sc-interactome/Network_analysis/Sequencing"
  #     runs_regex: ".*"

  #   data_collections:
  #   - data_collection_tag: "ASV_with_taxonomy"
  #     description: "DADA2 ASV table with PR2 taxonomy"
  #     config:
  #       # type: "Table"
  #       regex: ".*.ASV.reformated.tsv"
  #       format: "TSV"
  #       polars_kwargs:
  #         separator: "\t"